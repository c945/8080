; I distinguish z80 or 8080

	CPU	Z80

	ORG	0

	LD	SP,0100H

	SUB	A
	JP	PE,CPU8080
CPUZ80:
	CALL	PUTS
	DB	"Z80 CPU\n\r",0
	JP	END

CPU8080:
	CALL	PUTS
	DB	"8080 CPU\n\r",0
	JP	END

END:
	LD	A,'E'
	OUT	(0FFH),A
	IN	A,(0FFH);
	HALT

PUTS:	EX	(SP),HL
PUTS_LOOP
	LD	A,(HL)
	INC	HL
	AND	A
	JR	Z,PUTS_FIN
	OUT	(0FFH),A
	JP	PUTS_LOOP
PUTS_FIN
	EX	(SP),HL
	RET

